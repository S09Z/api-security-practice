
# âœ… à¹ƒà¸Šà¹‰ make install à¹€à¸à¸·à¹ˆà¸­à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies
# âœ… à¹ƒà¸Šà¹‰ make run à¹€à¸à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡ FastAPI Server
# âœ… à¹ƒà¸Šà¹‰ make test-public à¹à¸¥à¸° make test-private-success à¹€à¸à¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š API
# âœ… à¹ƒà¸Šà¹‰ make restart-nginx à¹à¸¥à¸° make test-nginx à¹€à¸à¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š NGINX

# ğŸš€ FastAPI Deployment & Testing Commands

# ğŸ“Œ Install Dependencies
install:
	pip install -r requirements.txt

# ğŸ“Œ Start FastAPI Server
run:
	uvicorn main:app --host 0.0.0.0 --port 8000 --reload

# ğŸ“Œ Test Public API (Expected: Success)
test-public:
	curl -X GET http://127.0.0.1:8000/

# ğŸ“Œ Test Private API from Authorized IP (Expected: Success)
test-private-success:
	curl -X GET http://127.0.0.1:8000/private/data

# ğŸ“Œ Test Private API from Unauthorized IP (Expected: Access Denied)
test-private-fail:
	curl -X GET --interface eth0 http://127.0.0.1:8000/private/data

# ğŸ“Œ Restart NGINX (After Config Changes)
restart-nginx:
	sudo systemctl restart nginx

# ğŸ“Œ Test NGINX Configuration
test-nginx:
	sudo nginx -t
