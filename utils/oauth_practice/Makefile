# ğŸš€ OAuth Security Testing & Deployment

# ğŸ“Œ Install Dependencies
install:
	pip install -r requirements.txt

# ğŸ“Œ Start FastAPI Server
run:
	uvicorn main:app --host 0.0.0.0 --port 8000 --reload

# ğŸ“Œ Test Redirect URI Validation
test-redirect-uri:
	curl -X GET "http://127.0.0.1:8000/authorize?redirect_uri=https://trustedapp.com/callback"

# ğŸ“Œ Test OAuth Login with Secure State & Default Scope
test-login:
	curl -X GET "http://127.0.0.1:8000/oauth/login"

# ğŸ“Œ Test Unauthorized Scope (Should Fail)
test-invalid-scope:
	curl -X GET "http://127.0.0.1:8000/oauth/login?scope=admin"

# ğŸ“Œ Restart NGINX (After Config Changes)
restart-nginx:
	sudo systemctl restart nginx

# ğŸ“Œ Test NGINX Configuration
test-nginx:
	sudo nginx -t
